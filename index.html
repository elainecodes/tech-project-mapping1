<!DOCTYPE html>
<meta charset="utf-8">
<style>

  svg text{
  	font-size:12px;
  }
  rect{
  	shape-rendering:crispEdges;
  }

</style>
<body>

<div style = "width:100%;height:100%;">
  <svg id = "bipartite_svg" style = "width:90%;height:90%"  viewbox = "0 0 1100 610" preserveAspectRatio="xMidYMid">
    
  </svg>
</div>

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="biPartite.js"></script>
<script>
var sales_data=[
['DR','CLNR',20,0],
['DR','FALCON',40,0],
['DR','LCH',40,0],
['DSM','C2C',1278,4],
['DSM','CLASS',1278,4],
['DSM','CLNR',1278,4],
['DSM','FNLCF',1278,4],
['DSM','NTVV',1278,4],
['DSM','FPP',1278,4],
['DSM','BRISTOL',1278,4],
['EES','SAVE',1278,4],
['EES','NINES',1278,4],
['EES','SNS',1278,4],
['EES','BRISTOL',1278,4],
['NM','CLASS',1278,4],
['NM','CLNR',1278,4],
['NM','eta',1278,4],
['NM','ARC',1278,4],
['NM','FPP',1278,4],
['NM','FUNLV',1278,4],
['NM','FALCON',1278,4],
['NM','LCH',1278,4],
['NM','SNS',1278,4],
['VM','CLASS',1278,4],
['VM','eta',1278,4],
['VM','CLNR',1278,4],
['VM','FNLCF',1278,4],
['VM','FPP',1278,4],
['VM','FUNLV',1278,4],
['VM','LCH',1278,4]
];

var width = 1100, height = 610, margin ={b:0, t:40, l:170, r:50};

var svg = d3.select("#bipartite_svg")//.attr("viewbox","0 0 " + width + " " + height)
    .append("g").attr("transform","translate("+ margin.l+","+margin.t+")");

var data = [ 
	{data:bP.partData(sales_data,2), id:'SalesAttempts', header:["Channel","State", "Sales Attempts"]},
	{data:bP.partData(sales_data,3), id:'Sales', header:["Channel","State", "Sales"]}
];

bP.draw(data, svg);

</script>
</body>
